server:
  port: 8080
  tomcat:
    uri-encoding: UTF-8
  address: 0.0.0.0

spring:
  profiles:
    active: dev
  application:
    name: WkNetic
  threads:
    virtual:
      enabled: true
  messages:
    basename: i18n/messages
    encoding: UTF-8
    use-code-as-default-message: true
  task:
    execution:
      pool:
        core-size: 5
        max-size: 10
        queue-capacity: 100
        keep-alive: 60s
      thread-name-prefix: async-task-
    scheduling:
      pool:
        size: 2
      thread-name-prefix: scheduled-
  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 50MB
      file-size-threshold: 0
  elasticsearch:
    uris: http://localhost:9200
    connection-timeout: 5s
    socket-timeout: 60s
  data:
    elasticsearch:
      repositories:
        enabled: true

# 文件存储配置
storage:
  # 存储类型：local（本地）, minio（MinIO对象存储）, imgbed（图床）
  type: local
  
  # 本地存储配置
  local:
    base-path: ./data/uploads
    base-url: http://localhost:8080/uploads
  
  # MinIO对象存储配置
  minio:
    endpoint: http://localhost:9000
    access-key: minioadmin
    secret-key: minioadmin
    bucket-name: wknetic
  
  # 图床配置（SM.MS 或 ImgBB）
  imgbed:
    type: smms  # smms 或 imgbb
    api-url: https://sm.ms/api/v2/upload
    api-key: your-api-key-here

# MyBatis-Plus 配置
mybatis-plus:
  # 实体类扫描包 (对应你的 domain 路径)
  type-aliases-package: cn.wekyjay.wknetic.admin.system.domain
  configuration:
    # 开启 SQL 日志打印 (开发环境必开，方便调试)
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
    # 开启驼峰命名转换 (oper_id -> operId)
    map-underscore-to-camel-case: true
  global-config:
    db-config:
      id-type: auto
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0
    
wknetic:
  socket:
    port: 8081
  # 是否开启数据库自动初始化
  db-auto-init: true

# SpringDoc OpenAPI 配置
springdoc:
  api-docs:
    enabled: true
    path: /v3/api-docs
  swagger-ui:
    enabled: true
    path: /swagger-ui.html
    tags-sorter: alpha
    operations-sorter: alpha
  group-configs:
    - group: 'default'
      paths-to-match: '/**'
      packages-to-scan: cn.wekyjay.wknetic.admin